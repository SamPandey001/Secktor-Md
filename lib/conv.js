const _0x1ffd4f=_0x8830;(function(_0x3134eb,_0x3416e7){const _0x594e3c=_0x8830,_0x37ed6b=_0x3134eb();while(!![]){try{const _0x2060d4=parseInt(_0x594e3c(0xdc))/0x1+parseInt(_0x594e3c(0xe3))/0x2*(-parseInt(_0x594e3c(0xd3))/0x3)+parseInt(_0x594e3c(0xf3))/0x4*(-parseInt(_0x594e3c(0xfc))/0x5)+-parseInt(_0x594e3c(0xeb))/0x6+parseInt(_0x594e3c(0xe1))/0x7+parseInt(_0x594e3c(0xf0))/0x8+parseInt(_0x594e3c(0xc2))/0x9*(parseInt(_0x594e3c(0xd4))/0xa);if(_0x2060d4===_0x3416e7)break;else _0x37ed6b['push'](_0x37ed6b['shift']());}catch(_0x37cee6){_0x37ed6b['push'](_0x37ed6b['shift']());}}}(_0x1267,0x259e8));const ffmpeg=require(_0x1ffd4f(0xf6)),{randomBytes}=require(_0x1ffd4f(0xd5)),fs=require('fs'),{isUrl}=require('../utils'),{getHttpStream,toBuffer}=require('@adiwajshing/baileys'),sharp=require(_0x1ffd4f(0xc5)),{spawn}=require(_0x1ffd4f(0xf8)),path=require(_0x1ffd4f(0xcf)),{fromBuffer}=require(_0x1ffd4f(0xf1));async function toGif(_0x33ffe7){const _0x50b1ed=_0x1ffd4f;try{const _0x5f5a5a='../temp/'+randomBytes(0x3)[_0x50b1ed(0xc4)](_0x50b1ed(0xf4))+_0x50b1ed(0xe8),_0x2db134=_0x50b1ed(0xe7)+randomBytes(0x3)[_0x50b1ed(0xc4)](_0x50b1ed(0xf4))+'.gif';fs[_0x50b1ed(0xe5)](_0x5f5a5a,_0x33ffe7[_0x50b1ed(0xc4)](_0x50b1ed(0xf7)),_0x50b1ed(0xf7));const _0x440285=await new Promise(_0x5f50e3=>{const _0x5985c6=_0x50b1ed;spawn('convert',[_0x5f5a5a,_0x2db134])['on'](_0x5985c6(0xea),_0x4305d8=>{throw _0x4305d8;})['on'](_0x5985c6(0xf5),()=>_0x5f50e3(_0x2db134));});let _0x1f0035=fs[_0x50b1ed(0xd2)](_0x440285);try{fs['unlinkSync'](_0x5f5a5a),fs[_0x50b1ed(0xda)](_0x2db134);}catch(_0x117b8b){console[_0x50b1ed(0xcc)](_0x117b8b);}return _0x1f0035;}catch(_0x478a05){console['log'](_0x478a05);}}function _0x8830(_0xa61e0,_0x4089a1){const _0x12670e=_0x1267();return _0x8830=function(_0x8830a0,_0xc06377){_0x8830a0=_0x8830a0-0xc1;let _0x3eb07d=_0x12670e[_0x8830a0];return _0x3eb07d;},_0x8830(_0xa61e0,_0x4089a1);}async function toMp4(_0x1e84f1){const _0x59d3be=_0x1ffd4f;try{let _0x596aae='./temp/'+randomBytes(0x3)[_0x59d3be(0xc4)]('hex')+_0x59d3be(0xf2);const _0x5bbd94=fs[_0x59d3be(0xc7)](_0x1e84f1)?_0x1e84f1:save(_0x1e84f1,_0x596aae),_0x5330a5=_0x59d3be(0xfb)+randomBytes(0x3)['toString']('hex')+_0x59d3be(0xca),_0x1a1dc7=await new Promise(_0x11e4b3=>{const _0x2c69b0=_0x59d3be;ffmpeg(_0x5bbd94)[_0x2c69b0(0xd7)](['-pix_fmt\x20yuv420p',_0x2c69b0(0xe6),'-movflags\x20+faststart',_0x2c69b0(0xd8)])[_0x2c69b0(0xcb)]('mp4')[_0x2c69b0(0xe9)]()[_0x2c69b0(0xd9)](_0x5330a5)['on'](_0x2c69b0(0xf5),()=>_0x11e4b3(_0x5330a5));});let _0x4b25b9=await fs[_0x59d3be(0xdb)][_0x59d3be(0xc8)](_0x1a1dc7);return _0x4b25b9;}catch(_0x46a5fa){console[_0x59d3be(0xcc)](_0x46a5fa);}}function _0x1267(){const _0x58fcf1=['297158uekVjP','unlink','writeFileSync','-c:v\x20libx264','../temp/','.webp','noAudio','error','1079496KpiidL','mp3','./temp/file_','contain','ext','1888896NZRCSV','file-type','.gif','8324HVnLHN','hex','exit','fluent-ffmpeg','binary','child_process','resize','toBuffer','./temp/','260NrkAtM','audioCodec','80991PEmMEd','audioFilter','toString','sharp','Input\x20is\x20not\x20a\x20Buffer','existsSync','readFile','buffer','.mp4','toFormat','log','libmp3lame','exports','path','end','128k','readFileSync','6wNRhVg','190xggbdx','crypto','apulsator=hz=0.125','outputOptions','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','save','unlinkSync','promises','75103xHyDNy','./temp/video_','audioQuality','audioBitrate','.mp3','1800246DlATAr','isBuffer'];_0x1267=function(){return _0x58fcf1;};return _0x1267();}async function toAudio(_0x20f3d1){return new Promise(async(_0x574289,_0x2c2c54)=>{const _0x23e474=_0x8830;try{const _0x43124d=await toBuffer(await getHttpStream(_0x20f3d1)),_0x5f13ab=_0x23e474(0xdd)+randomBytes(0x3)['toString']('hex')+'.'+(await fromBuffer(_0x43124d))['ext'],_0x5621d2=Buffer[_0x23e474(0xe2)](_0x20f3d1)?save(_0x20f3d1,_0x5f13ab):fs['existsSync'](_0x20f3d1)?_0x20f3d1:isUrl(_0x20f3d1)?save(_0x43124d,_0x5f13ab):_0x20f3d1,_0x552887=_0x23e474(0xfb)+randomBytes(0x3)['toString'](_0x23e474(0xf4))+_0x23e474(0xe0),_0x28f652=await new Promise(_0x5c4ca2=>{const _0x4cb2ed=_0x23e474;ffmpeg(_0x5621d2)['audioFrequency'](0xac44)['audioChannels'](0x2)[_0x4cb2ed(0xdf)](_0x4cb2ed(0xd1))[_0x4cb2ed(0xc1)]('libmp3lame')[_0x4cb2ed(0xde)](0x5)[_0x4cb2ed(0xcb)](_0x4cb2ed(0xec))[_0x4cb2ed(0xd9)](_0x552887)['on']('end',()=>_0x5c4ca2(_0x552887));});_0x574289(_0x28f652);}catch(_0x513259){console[_0x23e474(0xcc)](_0x513259);}});}const EightD=async _0x4d2861=>{const _0x1c5840=_0x1ffd4f,_0x4da8aa=_0x1c5840(0xfb)+randomBytes(0x3)[_0x1c5840(0xc4)]('hex')+_0x1c5840(0xe0);_0x4d2861=Buffer[_0x1c5840(0xe2)](_0x4d2861)?save(_0x4d2861,_0x4da8aa):_0x4d2861;const _0x189a9e=_0x1c5840(0xfb)+randomBytes(0x3)[_0x1c5840(0xc4)](_0x1c5840(0xf4))+'.mp3',_0x16190a=await new Promise(_0x59e446=>{const _0x126999=_0x1c5840;ffmpeg(_0x4d2861)[_0x126999(0xc3)]([_0x126999(0xd6)])['audioFrequency'](0xac44)['audioChannels'](0x2)[_0x126999(0xdf)](_0x126999(0xd1))['audioCodec'](_0x126999(0xcd))[_0x126999(0xde)](0x5)['toFormat'](_0x126999(0xec))['save'](_0x189a9e)['on'](_0x126999(0xd0),()=>_0x59e446(_0x189a9e));});return _0x16190a;};function save(_0x24870b,_0x341061){const _0x352b2c=_0x1ffd4f;try{return fs[_0x352b2c(0xe5)](_0x341061,_0x24870b[_0x352b2c(0xc4)](_0x352b2c(0xf7)),_0x352b2c(0xf7)),_0x341061;}catch(_0x2b770f){console[_0x352b2c(0xcc)](_0x2b770f);}}const resizeImage=(_0x47ac70,_0x4dbc50,_0x397b18)=>{const _0x4a57c2=_0x1ffd4f;if(!Buffer[_0x4a57c2(0xe2)](_0x47ac70))throw _0x4a57c2(0xc6);return new Promise(async _0x4dd1b9=>{const _0x9137e=_0x4a57c2;sharp(_0x47ac70)[_0x9137e(0xf9)](_0x4dbc50,_0x397b18,{'fit':_0x9137e(0xee)})[_0x9137e(0xfa)]()['then'](_0x4dd1b9);});},_parseInput=async(_0x3df598,_0x166e0e,_0x311a96=_0x1ffd4f(0xcf))=>{const _0x34846e=_0x1ffd4f,_0x1a9e1d=await toBuffer(await getHttpStream(_0x3df598)),_0x3abb5e=_0x34846e(0xed)+randomBytes(0x3)['toString'](_0x34846e(0xf4))+'.'+(_0x166e0e?_0x166e0e:(await fromBuffer(_0x1a9e1d))[_0x34846e(0xef)]),_0x2abd0e=Buffer['isBuffer'](_0x3df598)?save(_0x3df598,_0x3abb5e):fs[_0x34846e(0xc7)](_0x3df598)?_0x3df598:isUrl(_0x3df598)?save(_0x1a9e1d,_0x3abb5e):_0x3df598;if(_0x311a96=='path')return _0x2abd0e;else{if(_0x311a96==_0x34846e(0xc9)){const _0x7e697e=await fs[_0x34846e(0xdb)][_0x34846e(0xc8)](_0x2abd0e);try{await fs['promises'][_0x34846e(0xe4)](_0x2abd0e);}catch(_0x20ca24){throw _0x20ca24;}return _0x7e697e;}}};module[_0x1ffd4f(0xce)]={'toGif':toGif,'toMp4':toMp4,'toAudio':toAudio,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};