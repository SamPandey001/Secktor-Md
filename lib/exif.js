const _0x53568=_0x2227;(function(_0x358593,_0x3d6729){const _0x3e9d8b=_0x2227,_0x20a8e8=_0x358593();while(!![]){try{const _0x18a84e=parseInt(_0x3e9d8b(0xbc))/0x1*(parseInt(_0x3e9d8b(0xcf))/0x2)+-parseInt(_0x3e9d8b(0xe4))/0x3+-parseInt(_0x3e9d8b(0xdf))/0x4+parseInt(_0x3e9d8b(0xbb))/0x5+-parseInt(_0x3e9d8b(0xb8))/0x6*(-parseInt(_0x3e9d8b(0xdd))/0x7)+-parseInt(_0x3e9d8b(0xe5))/0x8+-parseInt(_0x3e9d8b(0xd5))/0x9*(-parseInt(_0x3e9d8b(0xd4))/0xa);if(_0x18a84e===_0x3d6729)break;else _0x20a8e8['push'](_0x20a8e8['shift']());}catch(_0x380a11){_0x20a8e8['push'](_0x20a8e8['shift']());}}}(_0x455a,0xd205a));function _0x2227(_0x47ccf9,_0xc8c4b2){const _0x455a31=_0x455a();return _0x2227=function(_0x2227fe,_0x1182ce){_0x2227fe=_0x2227fe-0xb3;let _0x449503=_0x455a31[_0x2227fe];return _0x449503;},_0x2227(_0x47ccf9,_0xc8c4b2);}function _0x455a(){const _0x5abc33=['4843760fKWtNt','path','unlinkSync','concat','.mp4','end','writeFileSync','writeUIntLE','https://github.com/DikaArdnt/Hisoka-Morou','categories','8788686SWJnul','.webp','toFormat','7191710DVVRVl','230183ffEQwb','packname','.jpg','utf-8','readUIntLE','Image','webp','author','mimetype','exif','exports','00:00:00','join','-preset','-vcodec','stringify','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','libwebp','addOutputOptions','2ZPpVGY','from','toString','-vf','node-webpmux','15350CMfoyg','549YyrWdW','data','load','error','readFileSync','test','fluent-ffmpeg','length','7FrvsVF','-an','330304OdtPxo','-vsync','save','crypto','randomBytes','5035935xwhGqU'];_0x455a=function(){return _0x5abc33;};return _0x455a();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x53568(0xe2)),ff=require(_0x53568(0xdb)),webp=require(_0x53568(0xd3)),path=require(_0x53568(0xe6));async function imageToWebp(_0x46a379){const _0x536964=_0x53568,_0x90e650=path['join'](tmpdir(),Crypto[_0x536964(0xe3)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x536964(0xb9)),_0x682424=path[_0x536964(0xc8)](tmpdir(),Crypto[_0x536964(0xe3)](0x6)[_0x536964(0xc0)](0x0,0x6)[_0x536964(0xd1)](0x24)+_0x536964(0xbe));fs['writeFileSync'](_0x682424,_0x46a379),await new Promise((_0x47b7b1,_0x19f721)=>{const _0x75b19c=_0x536964;ff(_0x682424)['on'](_0x75b19c(0xd8),_0x19f721)['on'](_0x75b19c(0xb3),()=>_0x47b7b1(!![]))['addOutputOptions'](['-vcodec','libwebp','-vf',_0x75b19c(0xcc)])[_0x75b19c(0xba)](_0x75b19c(0xc2))[_0x75b19c(0xe1)](_0x90e650);});const _0xf599c9=fs[_0x536964(0xd9)](_0x90e650);return fs[_0x536964(0xe7)](_0x90e650),fs[_0x536964(0xe7)](_0x682424),_0xf599c9;}async function videoToWebp(_0x294459){const _0x4e6347=_0x53568,_0x34d0f0=path[_0x4e6347(0xc8)](tmpdir(),Crypto[_0x4e6347(0xe3)](0x6)[_0x4e6347(0xc0)](0x0,0x6)[_0x4e6347(0xd1)](0x24)+_0x4e6347(0xb9)),_0x2d81ed=path[_0x4e6347(0xc8)](tmpdir(),Crypto[_0x4e6347(0xe3)](0x6)[_0x4e6347(0xc0)](0x0,0x6)[_0x4e6347(0xd1)](0x24)+_0x4e6347(0xe9));fs[_0x4e6347(0xb4)](_0x2d81ed,_0x294459),await new Promise((_0x132867,_0x1b15db)=>{const _0x59e785=_0x4e6347;ff(_0x2d81ed)['on']('error',_0x1b15db)['on'](_0x59e785(0xb3),()=>_0x132867(!![]))[_0x59e785(0xce)]([_0x59e785(0xca),_0x59e785(0xcd),_0x59e785(0xd2),_0x59e785(0xcc),'-loop','0','-ss',_0x59e785(0xc7),'-t','00:00:05',_0x59e785(0xc9),'default',_0x59e785(0xde),_0x59e785(0xe0),'0'])[_0x59e785(0xba)]('webp')['save'](_0x34d0f0);});const _0x22da34=fs[_0x4e6347(0xd9)](_0x34d0f0);return fs[_0x4e6347(0xe7)](_0x34d0f0),fs[_0x4e6347(0xe7)](_0x2d81ed),_0x22da34;}async function writeExifImg(_0x4302d1,_0x50a10b){const _0x2af90d=_0x53568;let _0x26bc4a=await imageToWebp(_0x4302d1);const _0x428120=path[_0x2af90d(0xc8)](tmpdir(),Crypto[_0x2af90d(0xe3)](0x6)[_0x2af90d(0xc0)](0x0,0x6)[_0x2af90d(0xd1)](0x24)+_0x2af90d(0xb9)),_0x134b97=path[_0x2af90d(0xc8)](tmpdir(),Crypto[_0x2af90d(0xe3)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.webp');fs['writeFileSync'](_0x428120,_0x26bc4a);if(_0x50a10b[_0x2af90d(0xbd)]||_0x50a10b[_0x2af90d(0xc3)]){const _0x1a9b20=new webp[(_0x2af90d(0xc1))](),_0x1150a7={'sticker-pack-id':_0x2af90d(0xb6),'sticker-pack-name':_0x50a10b[_0x2af90d(0xbd)],'sticker-pack-publisher':_0x50a10b[_0x2af90d(0xc3)],'emojis':_0x50a10b[_0x2af90d(0xb7)]?_0x50a10b[_0x2af90d(0xb7)]:['']},_0x45becd=Buffer[_0x2af90d(0xd0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3a5be6=Buffer[_0x2af90d(0xd0)](JSON[_0x2af90d(0xcb)](_0x1150a7),'utf-8'),_0x284e71=Buffer[_0x2af90d(0xe8)]([_0x45becd,_0x3a5be6]);return _0x284e71[_0x2af90d(0xb5)](_0x3a5be6['length'],0xe,0x4),await _0x1a9b20['load'](_0x428120),fs[_0x2af90d(0xe7)](_0x428120),_0x1a9b20['exif']=_0x284e71,await _0x1a9b20['save'](_0x134b97),_0x134b97;}}async function writeExifVid(_0x587e01,_0x337992){const _0x5904e5=_0x53568;let _0x3a39c3=await videoToWebp(_0x587e01);const _0x20beca=path['join'](tmpdir(),Crypto[_0x5904e5(0xe3)](0x6)[_0x5904e5(0xc0)](0x0,0x6)[_0x5904e5(0xd1)](0x24)+_0x5904e5(0xb9)),_0x4c9038=path[_0x5904e5(0xc8)](tmpdir(),Crypto[_0x5904e5(0xe3)](0x6)[_0x5904e5(0xc0)](0x0,0x6)[_0x5904e5(0xd1)](0x24)+_0x5904e5(0xb9));fs['writeFileSync'](_0x20beca,_0x3a39c3);if(_0x337992[_0x5904e5(0xbd)]||_0x337992[_0x5904e5(0xc3)]){const _0x18be0f=new webp[(_0x5904e5(0xc1))](),_0x751ab1={'sticker-pack-id':_0x5904e5(0xb6),'sticker-pack-name':_0x337992[_0x5904e5(0xbd)],'sticker-pack-publisher':_0x337992[_0x5904e5(0xc3)],'emojis':_0x337992[_0x5904e5(0xb7)]?_0x337992[_0x5904e5(0xb7)]:['']},_0x3ca022=Buffer[_0x5904e5(0xd0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5d082f=Buffer[_0x5904e5(0xd0)](JSON[_0x5904e5(0xcb)](_0x751ab1),_0x5904e5(0xbf)),_0x3bd23e=Buffer[_0x5904e5(0xe8)]([_0x3ca022,_0x5d082f]);return _0x3bd23e[_0x5904e5(0xb5)](_0x5d082f[_0x5904e5(0xdc)],0xe,0x4),await _0x18be0f['load'](_0x20beca),fs[_0x5904e5(0xe7)](_0x20beca),_0x18be0f['exif']=_0x3bd23e,await _0x18be0f['save'](_0x4c9038),_0x4c9038;}}async function writeExif(_0x2a2fff,_0x37b064){const _0x1bcaac=_0x53568;let _0x4f5637=/webp/[_0x1bcaac(0xda)](_0x2a2fff[_0x1bcaac(0xc4)])?_0x2a2fff[_0x1bcaac(0xd6)]:/image/[_0x1bcaac(0xda)](_0x2a2fff[_0x1bcaac(0xc4)])?await imageToWebp(_0x2a2fff['data']):/video/[_0x1bcaac(0xda)](_0x2a2fff['mimetype'])?await videoToWebp(_0x2a2fff[_0x1bcaac(0xd6)]):'';const _0x124a7c=path[_0x1bcaac(0xc8)](tmpdir(),Crypto[_0x1bcaac(0xe3)](0x6)[_0x1bcaac(0xc0)](0x0,0x6)[_0x1bcaac(0xd1)](0x24)+'.webp'),_0xab5612=path[_0x1bcaac(0xc8)](tmpdir(),Crypto[_0x1bcaac(0xe3)](0x6)[_0x1bcaac(0xc0)](0x0,0x6)[_0x1bcaac(0xd1)](0x24)+_0x1bcaac(0xb9));fs[_0x1bcaac(0xb4)](_0x124a7c,_0x4f5637);if(_0x37b064[_0x1bcaac(0xbd)]||_0x37b064['author']){const _0x1eb06d=new webp[(_0x1bcaac(0xc1))](),_0x225225={'sticker-pack-id':_0x1bcaac(0xb6),'sticker-pack-name':_0x37b064[_0x1bcaac(0xbd)],'sticker-pack-publisher':_0x37b064['author'],'emojis':_0x37b064['categories']?_0x37b064[_0x1bcaac(0xb7)]:['']},_0x48dcf6=Buffer[_0x1bcaac(0xd0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x234f91=Buffer[_0x1bcaac(0xd0)](JSON[_0x1bcaac(0xcb)](_0x225225),_0x1bcaac(0xbf)),_0x3be1d6=Buffer[_0x1bcaac(0xe8)]([_0x48dcf6,_0x234f91]);return _0x3be1d6[_0x1bcaac(0xb5)](_0x234f91[_0x1bcaac(0xdc)],0xe,0x4),await _0x1eb06d[_0x1bcaac(0xd7)](_0x124a7c),fs[_0x1bcaac(0xe7)](_0x124a7c),_0x1eb06d[_0x1bcaac(0xc5)]=_0x3be1d6,await _0x1eb06d[_0x1bcaac(0xe1)](_0xab5612),_0xab5612;}}module[_0x53568(0xc6)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif}; 